scoreboard objectives add dfl_scoreboard dummy "DFL"
execute store result score entitynum dfl_scoreboard if entity @e[type=!minecraft:player,tag=!need]
$execute if score entitynum dfl_scoreboard matches $(num).. run tellraw @a [{"text":"[DFL] ","color":"gray","italic":true},{"type":"translatable","translate":"tick.kill.dfl.too.many","fallback":"实体过多，已清除","color":"gray","italic":true},{"text":" "},{"score":{"name":"entitynum","objective":"dfl_scoreboard"},"color":"red"},{"text":" "},{"type":"translatable","translate":"tick.kill.dfl.entity.num","fallback":"个实体","color":"gray","italic":true}]
$execute if score entitynum dfl_scoreboard matches $(num).. run tellraw @a [{"type":"translatable","translate":"tick.kill.dfl.need.tag","fallback":"想要防止实体被清除可以为实体","color":"gray","italic":true},{"text":" "},{"type":"translatable","translate":"tick.kill.dfl.add","fallback":"添加","color":"blue","underlined":true,"italic":true,"clickEvent":{"action":"suggest_command","value":"/tag @s add need"},"click_event":{"action":"suggest_command","command":"/tag @s add need"}},{"text":" ","color":"blue","underlined":true,"italic":true,"clickEvent":{"action":"suggest_command","value":"/tag @s add need"},"click_event":{"action":"suggest_command","command":"/tag @s add need"}},{"text":"'need'","color":"blue","underlined":true,"italic":true,"clickEvent":{"action":"suggest_command","value":"/tag @s add need"},"click_event":{"action":"suggest_command","command":"/tag @s add need"}},{"text":" ","color":"blue","underlined":true,"italic":true,"clickEvent":{"action":"suggest_command","value":"/tag @s add need"},"click_event":{"action":"suggest_command","command":"/tag @s add need"}},{"type":"translatable","translate":"tick.kill.dfl.tag","fallback":"标签","color":"blue","underlined":true,"italic":true,"clickEvent":{"action":"suggest_command","value":"/tag @s add need"},"click_event":{"action":"suggest_command","command":"/tag @s add need"}}]
$execute if score entitynum dfl_scoreboard matches $(num).. run kill @e[type=!minecraft:player,tag=!need]